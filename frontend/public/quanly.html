<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ thống Quản lý Bán hàng Quần áo - Chi tiết</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .role-badge { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .form-section { border-left: 4px solid #3b82f6; padding-left: 1rem; margin-bottom: 1.5rem; }
        .status-active { background: #10b981; color: white; }
        .status-inactive { background: #ef4444; color: white; }
        .status-pending { background: #f59e0b; color: white; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-tshirt text-2xl"></i>
                    <h1 class="text-2xl font-bold">Fashion Store Manager Pro</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23f3f4f6'/%3E%3Ccircle cx='16' cy='12' r='5' fill='%236b7280'/%3E%3Cpath d='M16 18c-5 0-9 3-9 6v2h18v-2c0-3-4-6-9-6z' fill='%236b7280'/%3E%3C/svg%3E" alt="Avatar" class="w-8 h-8 rounded-full">
                        <span id="currentUser" class="font-medium">Admin</span>
                        <span id="currentRole" class="role-badge bg-red-400 text-red-900 px-2 py-1 rounded-full text-xs font-semibold">Quản lý cấp cao</span>
                    </div>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-colors">
                        <i class="fas fa-sign-out-alt mr-2"></i>Đăng xuất
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Role Selector -->
    <div class="container mx-auto px-6 py-6">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-gray-800">
                <i class="fas fa-users mr-2 text-blue-500"></i>Chọn cấp bậc để xem form quản lý chi tiết
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <button onclick="switchRole('admin')" class="role-btn bg-red-500 hover:bg-red-600 text-white p-4 rounded-lg transition-all card-hover ring-4 ring-white ring-opacity-50">
                    <i class="fas fa-crown text-2xl mb-2"></i>
                    <div class="font-semibold">Quản lý cấp cao</div>
                    <div class="text-sm opacity-90">Toàn quyền hệ thống</div>
                </button>
                <button onclick="switchRole('manager')" class="role-btn bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-lg transition-all card-hover">
                    <i class="fas fa-user-tie text-2xl mb-2"></i>
                    <div class="font-semibold">Quản lý cửa hàng</div>
                    <div class="text-sm opacity-90">Quản lý chi nhánh</div>
                </button>
                <button onclick="switchRole('staff')" class="role-btn bg-green-500 hover:bg-green-600 text-white p-4 rounded-lg transition-all card-hover">
                    <i class="fas fa-user text-2xl mb-2"></i>
                    <div class="font-semibold">Nhân viên bán hàng</div>
                    <div class="text-sm opacity-90">Bán hàng & tư vấn</div>
                </button>
                <button onclick="switchRole('cashier')" class="role-btn bg-purple-500 hover:bg-purple-600 text-white p-4 rounded-lg transition-all card-hover">
                    <i class="fas fa-cash-register text-2xl mb-2"></i>
                    <div class="font-semibold">Thu ngân</div>
                    <div class="text-sm opacity-90">Thanh toán</div>
                </button>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboardContent">
            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="role-content">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Employee Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-users-cog mr-2 text-red-500"></i>Quản lý nhân viên
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('addEmployeeModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-user-plus mr-2"></i>Thêm nhân viên mới
                            </button>
                            <button onclick="openModal('employeeListModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-list mr-2"></i>Danh sách nhân viên
                            </button>
                            <button onclick="openModal('rolePermissionModal')" class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-key mr-2"></i>Phân quyền hệ thống
                            </button>
                        </div>
                    </div>

                    <!-- Store Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-store-alt mr-2 text-blue-500"></i>Quản lý cửa hàng
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('addStoreModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>Thêm cửa hàng mới
                            </button>
                            <button onclick="openModal('storeListModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-building mr-2"></i>Danh sách cửa hàng
                            </button>
                            <button onclick="openModal('systemReportModal')" class="w-full bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-chart-bar mr-2"></i>Báo cáo tổng hợp
                            </button>
                        </div>
                    </div>

                    <!-- System Settings -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-cogs mr-2 text-purple-500"></i>Cài đặt hệ thống
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('systemConfigModal')" class="w-full bg-gray-600 hover:bg-gray-700 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-sliders-h mr-2"></i>Cấu hình hệ thống
                            </button>
                            <button onclick="openModal('backupModal')" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-database mr-2"></i>Sao lưu dữ liệu
                            </button>
                            <button onclick="openModal('auditLogModal')" class="w-full bg-red-500 hover:bg-red-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-history mr-2"></i>Nhật ký hệ thống
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manager Dashboard -->
            <div id="managerDashboard" class="role-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Inventory Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-boxes mr-2 text-blue-500"></i>Quản lý kho hàng
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('addProductModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>Thêm sản phẩm
                            </button>
                            <button onclick="openModal('inventoryModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-warehouse mr-2"></i>Kiểm kê kho
                            </button>
                            <button onclick="openModal('importModal')" class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-truck mr-2"></i>Nhập hàng
                            </button>
                        </div>
                    </div>

                    <!-- Staff Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-user-check mr-2 text-green-500"></i>Quản lý nhân viên
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('scheduleModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-calendar-alt mr-2"></i>Lịch làm việc
                            </button>
                            <button onclick="openModal('performanceModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-chart-line mr-2"></i>Đánh giá hiệu suất
                            </button>
                            <button onclick="openModal('salaryModal')" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-money-bill mr-2"></i>Tính lương & thưởng
                            </button>
                        </div>
                    </div>

                    <!-- Sales Reports -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-chart-pie mr-2 text-purple-500"></i>Báo cáo bán hàng
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('dailyReportModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-calendar-day mr-2"></i>Báo cáo ngày
                            </button>
                            <button onclick="openModal('monthlyReportModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-calendar-month mr-2"></i>Báo cáo tháng
                            </button>
                            <button onclick="openModal('customerAnalysisModal')" class="w-full bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-users mr-2"></i>Phân tích khách hàng
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Staff Dashboard -->
            <div id="staffDashboard" class="role-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Sales Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-shopping-cart mr-2 text-green-500"></i>Quản lý bán hàng
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('createOrderModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-plus-circle mr-2"></i>Tạo đơn hàng
                            </button>
                            <button onclick="openModal('orderHistoryModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-history mr-2"></i>Lịch sử đơn hàng
                            </button>
                            <button onclick="openModal('returnExchangeModal')" class="w-full bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-exchange-alt mr-2"></i>Đổi trả hàng
                            </button>
                        </div>
                    </div>

                    <!-- Customer Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-user-friends mr-2 text-blue-500"></i>Quản lý khách hàng
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('addCustomerModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-user-plus mr-2"></i>Thêm khách hàng
                            </button>
                            <button onclick="openModal('customerListModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-address-book mr-2"></i>Danh sách khách hàng
                            </button>
                            <button onclick="openModal('loyaltyModal')" class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-gift mr-2"></i>Chương trình khuyến mãi
                            </button>
                        </div>
                    </div>

                    <!-- Product Consultation -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-search mr-2 text-purple-500"></i>Tư vấn sản phẩm
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('productSearchModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-search mr-2"></i>Tra cứu sản phẩm
                            </button>
                            <button onclick="openModal('sizeGuideModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-ruler mr-2"></i>Bảng size
                            </button>
                            <button onclick="openModal('personalStatsModal')" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-trophy mr-2"></i>Thống kê cá nhân
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cashier Dashboard -->
            <div id="cashierDashboard" class="role-content hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Payment Processing -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-cash-register mr-2 text-purple-500"></i>Xử lý thanh toán
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('posModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-calculator mr-2"></i>Máy tính tiền POS
                            </button>
                            <button onclick="openModal('paymentMethodModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-credit-card mr-2"></i>Phương thức thanh toán
                            </button>
                            <button onclick="openModal('receiptModal')" class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-receipt mr-2"></i>In hóa đơn
                            </button>
                        </div>
                    </div>

                    <!-- Cash Management -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-money-bill-wave mr-2 text-green-500"></i>Quản lý tiền mặt
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('cashCountModal')" class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-coins mr-2"></i>Kiểm đếm tiền
                            </button>
                            <button onclick="openModal('shiftReportModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-file-alt mr-2"></i>Báo cáo ca làm
                            </button>
                            <button onclick="openModal('transactionLogModal')" class="w-full bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-list mr-2"></i>Lịch sử giao dịch
                            </button>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800 flex items-center">
                            <i class="fas fa-bolt mr-2 text-yellow-500"></i>Thao tác nhanh
                        </h3>
                        <div class="space-y-3">
                            <button onclick="openModal('barcodeModal')" class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-barcode mr-2"></i>Quét mã vạch
                            </button>
                            <button onclick="openModal('discountModal')" class="w-full bg-red-500 hover:bg-red-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-percent mr-2"></i>Áp dụng giảm giá
                            </button>
                            <button onclick="openModal('voidTransactionModal')" class="w-full bg-gray-500 hover:bg-gray-600 text-white p-3 rounded-lg transition-colors">
                                <i class="fas fa-times mr-2"></i>Hủy giao dịch
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Employee Modal -->
    <div id="addEmployeeModal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-user-plus mr-2 text-green-500"></i>Thêm nhân viên mới
                    </h2>
                    <button onclick="closeModal('addEmployeeModal')" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <form class="space-y-6">
                    <div class="form-section">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Thông tin cá nhân</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Họ và tên *</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nguyễn Văn A">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Số điện thoại *</label>
                                <input type="tel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0123456789">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="email@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">CCCD/CMND *</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="123456789012">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Địa chỉ</label>
                            <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="2" placeholder="Địa chỉ chi tiết"></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Thông tin công việc</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Chức vụ *</label>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Chọn chức vụ</option>
                                    <option value="manager">Quản lý cửa hàng</option>
                                    <option value="staff">Nhân viên bán hàng</option>
                                    <option value="cashier">Thu ngân</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Cửa hàng *</label>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Chọn cửa hàng</option>
                                    <option value="store1">Cửa hàng Quận 1</option>
                                    <option value="store2">Cửa hàng Quận 3</option>
                                    <option value="store3">Cửa hàng Thủ Đức</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Lương cơ bản</label>
                                <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="5000000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ngày bắt đầu làm việc</label>
                                <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Tài khoản hệ thống</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tên đăng nhập *</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="username">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu tạm thời *</label>
                                <input type="password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="********">
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-4 pt-4 border-t border-gray-200">
                        <button type="button" onclick="closeModal('addEmployeeModal')" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                            Hủy
                        </button>
                        <button type="submit" class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors">
                            <i class="fas fa-save mr-2"></i>Lưu thông tin
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Employee List Modal -->
    <div id="employeeListModal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-6xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-users mr-2 text-blue-500"></i>Danh sách nhân viên
                    </h2>
                    <button onclick="closeModal('employeeListModal')" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <div class="mb-4 flex flex-wrap gap-4">
                    <input type="text" placeholder="Tìm kiếm nhân viên..." class="flex-1 min-w-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <select class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="">Tất cả chức vụ</option>
                        <option value="manager">Quản lý</option>
                        <option value="staff">Nhân viên</option>
                        <option value="cashier">Thu ngân</option>
                    </select>
                    <select class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="">Tất cả cửa hàng</option>
                        <option value="store1">Quận 1</option>
                        <option value="store2">Quận 3</option>
                        <option value="store3">Thủ Đức</option>
                    </select>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="border border-gray-300 px-4 py-2 text-left">Mã NV</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Họ tên</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Chức vụ</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Cửa hàng</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Trạng thái</th>
                                <th class="border border-gray-300 px-4 py-2 text-left">Thao tác</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">NV001</td>
                                <td class="border border-gray-300 px-4 py-2">Nguyễn Văn A</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs">Quản lý</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">Quận 1</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="status-active px-2 py-1 rounded-full text-xs">Đang làm việc</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <button class="text-blue-500 hover:text-blue-700 mr-2" title="Chỉnh sửa">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700" title="Xóa">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">NV002</td>
                                <td class="border border-gray-300 px-4 py-2">Trần Thị B</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">Nhân viên</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">Quận 3</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="status-active px-2 py-1 rounded-full text-xs">Đang làm việc</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <button class="text-blue-500 hover:text-blue-700 mr-2" title="Chỉnh sửa">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700" title="Xóa">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="border border-gray-300 px-4 py-2">NV003</td>
                                <td class="border border-gray-300 px-4 py-2">Lê Văn C</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs">Thu ngân</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">Thủ Đức</td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <span class="status-pending px-2 py-1 rounded-full text-xs">Nghỉ phép</span>
                                </td>
                                <td class="border border-gray-300 px-4 py-2">
                                    <button class="text-blue-500 hover:text-blue-700 mr-2" title="Chỉnh sửa">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700" title="Xóa">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-4 flex justify-between items-center">
                    <span class="text-sm text-gray-600">Hiển thị 1-3 của 127 nhân viên</span>
                    <div class="flex space-x-2">
                        <button class="px-3 py-1 border border-gray-300 rounded hover:bg-gray-50">Trước</button>
                        <button class="px-3 py-1 bg-blue-500 text-white rounded">1</button>
                        <button class="px-3 py-1 border border-gray-300 rounded hover:bg-gray-50">2</button>
                        <button class="px-3 py-1 border border-gray-300 rounded hover:bg-gray-50">3</button>
                        <button class="px-3 py-1 border border-gray-300 rounded hover:bg-gray-50">Sau</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Order Modal (Staff) -->
    <div id="createOrderModal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-5xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-shopping-cart mr-2 text-green-500"></i>Tạo đơn hàng mới
                    </h2>
                    <button onclick="closeModal('createOrderModal')" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Customer Info -->
                    <div class="form-section">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Thông tin khách hàng</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Số điện thoại</label>
                                <div class="flex">
                                    <input type="tel" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500" placeholder="0123456789">
                                    <button class="px-4 py-2 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tên khách hàng</label>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Tên khách hàng">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Loại khách hàng</label>
                                <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <option value="regular">Khách hàng thường</option>
                                    <option value="vip">Khách hàng VIP</option>
                                    <option value="member">Thành viên</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Product Selection -->
                    <div class="form-section">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Chọn sản phẩm</h3>
                        <div class="space-y-4">
                            <div>
                                <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Tìm kiếm sản phẩm...">
                            </div>
                            <div class="border border-gray-300 rounded-lg p-4 max-h-64 overflow-y-auto">
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-12 h-12 bg-gray-200 rounded flex items-center justify-center">
                                                <i class="fas fa-tshirt text-gray-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">Áo thun nam cổ tròn</p>
                                                <p class="text-sm text-gray-500">Size: M, L, XL</p>
                                                <p class="text-sm font-semibold text-green-600">299,000 VNĐ</p>
                                            </div>
                                        </div>
                                        <button class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded cursor-pointer">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-12 h-12 bg-gray-200 rounded flex items-center justify-center">
                                                <i class="fas fa-tshirt text-gray-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium">Quần jean nữ skinny</p>
                                                <p class="text-sm text-gray-500">Size: 27, 28, 29</p>
                                                <p class="text-sm font-semibold text-green-600">599,000 VNĐ</p>
                                            </div>
                                        </div>
                                        <button class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="form-section mt-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Giỏ hàng</h3>
                    <div class="border border-gray-300 rounded-lg">
                        <div class="p-4 border-b border-gray-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gray-200 rounded flex items-center justify-center">
                                        <i class="fas fa-tshirt text-gray-500"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Áo thun nam cổ tròn - Size M</p>
                                        <p class="text-sm text-gray-500">299,000 VNĐ x 2</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button class="w-8 h-8 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300">
                                        <i class="fas fa-minus text-xs"></i>
                                    </button>
                                    <span class="w-8 text-center">2</span>
                                    <button class="w-8 h-8 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300">
                                        <i class="fas fa-plus text-xs"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700 ml-2">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 bg-gray-50">
                            <div class="space-y-2">
                                <div class="flex justify-between">
                                    <span>Tạm tính:</span>
                                    <span>598,000 VNĐ</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Giảm giá:</span>
                                    <span class="text-red-500">-59,800 VNĐ (10%)</span>
                                </div>
                                <div class="flex justify-between font-bold text-lg border-t border-gray-300 pt-2">
                                    <span>Tổng cộng:</span>
                                    <span class="text-green-600">538,200 VNĐ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                    <button type="button" onclick="closeModal('createOrderModal')" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                        Hủy
                    </button>
                    <button type="button" class="px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors">
                        <i class="fas fa-save mr-2"></i>Lưu tạm
                    </button>
                    <button type="button" class="px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors">
                        <i class="fas fa-check mr-2"></i>Thanh toán
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- POS Modal (Cashier) -->
    <div id="posModal" class="modal">
        <div class="bg-white rounded-xl shadow-2xl max-w-6xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-800">
                        <i class="fas fa-calculator mr-2 text-purple-500"></i>Máy tính tiền POS
                    </h2>
                    <button onclick="closeModal('posModal')" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Product Scanner -->
                    <div class="lg:col-span-2">
                        <div class="form-section">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Quét sản phẩm</h3>
                            <div class="flex mb-4">
                                <input type="text" class="flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500" placeholder="Quét mã vạch hoặc nhập mã sản phẩm">
                                <button class="px-4 py-2 bg-blue-500 text-white rounded-r-lg hover:bg-blue-600">
                                    <i class="fas fa-barcode"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Cart Items -->
                        <div class="form-section">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Giỏ hàng</h3>
                            <div class="border border-gray-300 rounded-lg max-h-96 overflow-y-auto">
                                <table class="w-full">
                                    <thead class="bg-gray-50 sticky top-0">
                                        <tr>
                                            <th class="px-4 py-2 text-left">Sản phẩm</th>
                                            <th class="px-4 py-2 text-center">SL</th>
                                            <th class="px-4 py-2 text-right">Đơn giá</th>
                                            <th class="px-4 py-2 text-right">Thành tiền</th>
                                            <th class="px-4 py-2"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-t">
                                            <td class="px-4 py-2">
                                                <div>
                                                    <p class="font-medium">Áo thun nam cổ tròn</p>
                                                    <p class="text-sm text-gray-500">Size M - Màu đen</p>
                                                </div>
                                            </td>
                                            <td class="px-4 py-2 text-center">
                                                <div class="flex items-center justify-center space-x-1">
                                                    <button class="w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300">-</button>
                                                    <span class="w-8 text-center">2</span>
                                                    <button class="w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300">+</button>
                                                </div>
                                            </td>
                                            <td class="px-4 py-2 text-right">299,000</td>
                                            <td class="px-4 py-2 text-right font-semibold">598,000</td>
                                            <td class="px-4 py-2">
                                                <button class="text-red-500 hover:text-red-700">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr class="border-t">
                                            <td class="px-4 py-2">
                                                <div>
                                                    <p class="font-medium">Quần jean nữ skinny</p>
                                                    <p class="text-sm text-gray-500">Size 28 - Màu xanh</p>
                                                </div>
                                            </td>
                                            <td class="px-4 py-2 text-center">
                                                <div class="flex items-center justify-center space-x-1">
                                                    <button class="w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300">-</button>
                                                    <span class="w-8 text-center">1</span>
                                                    <button class="w-6 h-6 bg-gray-200 rounded text-xs hover:bg-gray-300">+</button>
                                                </div>
                                            </td>
                                            <td class="px-4 py-2 text-right">599,000</td>
                                            <td class="px-4 py-2 text-right font-semibold">599,000</td>
                                            <td class="px-4 py-2">
                                                <button class="text-red-500 hover:text-red-700">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Panel -->
                    <div>
                        <div class="form-section">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Thanh toán</h3>
                            <div class="bg-gray-50 rounded-lg p-4 mb-4">
                                <div class="space-y-2">
                                    <div class="flex justify-between">
                                        <span>Tạm tính:</span>
                                        <span>1,197,000 VNĐ</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Giảm giá:</span>
                                        <input type="number" class="w-20 px-2 py-1 border border-gray-300 rounded text-right" placeholder="0">
                                    </div>
                                    <div class="flex justify-between font-bold text-lg border-t border-gray-300 pt-2">
                                        <span>Tổng cộng:</span>
                                        <span class="text-green-600">1,197,000 VNĐ</span>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <button class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors">
                                    <i class="fas fa-money-bill mr-2"></i>Tiền mặt
                                </button>
                                <button class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg transition-colors">
                                    <i class="fas fa-credit-card mr-2"></i>Thẻ ngân hàng
                                </button>
                                <button class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg transition-colors">
                                    <i class="fas fa-qrcode mr-2"></i>QR Code
                                </button>
                            </div>

                            <div class="mt-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tiền khách đưa</label>
                                <input type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="1,200,000">
                            </div>

                            <div class="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                <div class="flex justify-between font-semibold">
                                    <span>Tiền thừa:</span>
                                    <span class="text-yellow-600">3,000 VNĐ</span>
                                </div>
                            </div>

                            <div class="mt-6 space-y-2">
                                <button class="w-full bg-green-600 hover:bg-green-700 text-white p-3 rounded-lg transition-colors font-semibold">
                                    <i class="fas fa-check mr-2"></i>Hoàn tất thanh toán
                                </button>
                                <button class="w-full bg-gray-500 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors">
                                    <i class="fas fa-print mr-2"></i>In hóa đơn
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentRole = 'admin';

        // Role switching functionality
        function switchRole(role) {
            currentRole = role;
            
            // Hide all role content
            const roleContents = document.querySelectorAll('.role-content');
            roleContents.forEach(content => content.classList.add('hidden'));
            
            // Show selected role content
            const selectedContent = document.getElementById(role + 'Dashboard');
            if (selectedContent) {
                selectedContent.classList.remove('hidden');
            }
            
            // Update user info
            const roleNames = {
                'admin': 'Quản lý cấp cao',
                'manager': 'Quản lý cửa hàng', 
                'staff': 'Nhân viên bán hàng',
                'cashier': 'Thu ngân'
            };
            
            const roleColors = {
                'admin': 'bg-red-400 text-red-900',
                'manager': 'bg-blue-400 text-blue-900',
                'staff': 'bg-green-400 text-green-900', 
                'cashier': 'bg-purple-400 text-purple-900'
            };
            
            document.getElementById('currentRole').textContent = roleNames[role];
            document.getElementById('currentRole').className = `role-badge px-2 py-1 rounded-full text-xs font-semibold ${roleColors[role]}`;
            
            // Update role buttons visual feedback
            const roleButtons = document.querySelectorAll('.role-btn');
            roleButtons.forEach(btn => {
                btn.classList.remove('ring-4', 'ring-white', 'ring-opacity-50');
            });
            
            event.target.closest('.role-btn').classList.add('ring-4', 'ring-white', 'ring-opacity-50');
        }

        // Modal functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('show');
                document.body.style.overflow = 'auto';
            }
        });

        // Logout functionality
        function logout() {
            if (confirm('Bạn có chắc chắn muốn đăng xuất?')) {
                alert('Đã đăng xuất thành công!');
            }
        }

        // Form submission handlers
        document.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            alert('Form đã được gửi thành công!\n\nDữ liệu sẽ được xử lý trong hệ thống thực tế.');
        });

        // Initialize with admin role
        document.addEventListener('DOMContentLoaded', function() {
            switchRole('admin');
        });

        // Sample data for demonstration
        const sampleData = {
            employees: [
                { id: 'NV001', name: 'Nguyễn Văn A', role: 'manager', store: 'Quận 1', status: 'active' },
                { id: 'NV002', name: 'Trần Thị B', role: 'staff', store: 'Quận 3', status: 'active' },
                { id: 'NV003', name: 'Lê Văn C', role: 'cashier', store: 'Thủ Đức', status: 'leave' }
            ],
            products: [
                { id: 'SP001', name: 'Áo thun nam cổ tròn', price: 299000, sizes: ['M', 'L', 'XL'] },
                { id: 'SP002', name: 'Quần jean nữ skinny', price: 599000, sizes: ['27', '28', '29'] }
            ]
        };

        // Add interactive functionality to buttons
        document.addEventListener('click', function(e) {
            const button = e.target.closest('button');
            if (!button) return;

            // Handle quantity changes in POS
            if (button.textContent === '+' || button.textContent === '-') {
                const quantitySpan = button.parentElement.querySelector('span');
                if (quantitySpan) {
                    let quantity = parseInt(quantitySpan.textContent);
                    if (button.textContent === '+') {
                        quantity++;
                    } else if (quantity > 1) {
                        quantity--;
                    }
                    quantitySpan.textContent = quantity;
                    
                    // Update total (simplified calculation)
                    updateCartTotal();
                }
            }
        });

        function updateCartTotal() {
            // Simplified total calculation for demo
            const rows = document.querySelectorAll('#posModal tbody tr');
            let total = 0;
            
            rows.forEach(row => {
                const quantity = parseInt(row.querySelector('span').textContent);
                const price = parseInt(row.cells[2].textContent.replace(/,/g, ''));
                const subtotal = quantity * price;
                row.cells[3].textContent = subtotal.toLocaleString();
                total += subtotal;
            });
            
            // Update display totals
            const totalElements = document.querySelectorAll('.text-green-600');
            totalElements.forEach(el => {
                if (el.textContent.includes('VNĐ')) {
                    el.textContent = total.toLocaleString() + ' VNĐ';
                }
            });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96bdaa94b7bac63b',t:'MTc1NDY0MTk4MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>