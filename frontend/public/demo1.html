<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Elite - React App</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background-color: #fafafa;
        }

        /* Header Styles */
        .header {
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .top-bar {
            background: #111827;
            color: #9ca3af;
            padding: 0.5rem 0;
            font-size: 0.875rem;
            text-align: center;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 700;
            color: #111827;
            letter-spacing: -0.025em;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-menu a {
            color: #374151;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
            cursor: pointer;
        }

        .nav-menu a:hover {
            color: #111827;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            width: 300px;
            font-size: 0.875rem;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
        }

        .cart-btn {
            background: #111827;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .cart-btn:hover {
            background: #374151;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Content Layout */
        .content-wrapper {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 3rem;
            margin: 2rem 0;
        }

        /* Filter Sidebar */
        .filter-sidebar {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
        }

        .filter-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .filter-group {
            margin-bottom: 2rem;
        }

        .filter-group-title {
            font-weight: 600;
            color: #374151;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-checkbox {
            width: 16px;
            height: 16px;
            accent-color: #111827;
        }

        .filter-label {
            color: #374151;
            font-size: 0.875rem;
            cursor: pointer;
            flex: 1;
        }

        .filter-count {
            color: #9ca3af;
            font-size: 0.75rem;
        }

        .price-range {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .price-input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 0.875rem;
        }

        .size-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
        }

        .size-option {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .size-option:hover {
            border-color: #111827;
        }

        .size-option.selected {
            background: #111827;
            color: white;
            border-color: #111827;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 0.5rem;
        }

        .color-option {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #e5e7eb;
            transition: all 0.2s ease;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected {
            border-color: #111827;
            box-shadow: 0 0 0 2px white, 0 0 0 4px #111827;
        }

        .clear-filters {
            width: 100%;
            padding: 0.75rem;
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            color: #374151;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .clear-filters:hover {
            background: #f3f4f6;
        }

        /* Products Section */
        .products-section {
            flex: 1;
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-title {
            font-size: 2.25rem;
            font-weight: 700;
            color: #111827;
            margin-bottom: 0.5rem;
            letter-spacing: -0.025em;
        }

        .page-subtitle {
            color: #6b7280;
            font-size: 1.125rem;
        }

        .results-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1.5rem 0;
            padding: 1rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .sort-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .view-options {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            background: white;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .view-btn.active {
            background: #111827;
            color: white;
            border-color: #111827;
        }

        .sort-select {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background: white;
            font-size: 0.875rem;
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #d1d5db;
        }

        .product-image {
            width: 100%;
            height: 320px;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: #cbd5e1;
            position: relative;
            overflow: hidden;
        }

        .product-badges {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .product-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .badge-sale {
            background: #dc2626;
            color: white;
        }

        .badge-new {
            background: #059669;
            color: white;
        }

        .badge-limited {
            background: #7c3aed;
            color: white;
        }

        .product-actions {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-card:hover .product-actions {
            opacity: 1;
        }

        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: #111827;
            color: white;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-brand {
            color: #6b7280;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .product-name {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .product-description {
            color: #6b7280;
            font-size: 0.875rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .product-price {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .current-price {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111827;
        }

        .original-price {
            font-size: 1rem;
            color: #9ca3af;
            text-decoration: line-through;
        }

        .discount-percent {
            background: #fef2f2;
            color: #dc2626;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .stars {
            color: #fbbf24;
            font-size: 0.875rem;
        }

        .rating-text {
            color: #6b7280;
            font-size: 0.875rem;
        }

        .product-variants {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .variant-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #e5e7eb;
            cursor: pointer;
        }

        .product-sizes {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .size-tag {
            padding: 0.25rem 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #6b7280;
        }

        .add-to-cart {
            width: 100%;
            padding: 0.75rem;
            background: #111827;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .add-to-cart:hover {
            background: #374151;
            transform: translateY(-1px);
        }

        .add-to-cart.added {
            background: #059669;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin: 3rem 0;
        }

        .pagination button {
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            background: white;
            color: #374151;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .pagination button:hover:not(:disabled) {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .pagination button.active {
            background: #111827;
            color: white;
            border-color: #111827;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.125rem;
            color: #6b7280;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .content-wrapper {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .search-input {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .nav-menu {
                gap: 1.5rem;
            }

            .nav-actions {
                flex-direction: column;
                gap: 1rem;
            }

            .search-input {
                width: 100%;
            }

            .container {
                padding: 0 1rem;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
            }

            .sort-bar {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .filter-sidebar {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Sample product data
        const initialProducts = [
            {
                id: 1,
                name: "√Åo S∆° Mi Oxford Premium",
                category: "ao-so-mi",
                brand: "zara",
                price: 450000,
                originalPrice: 600000,
                image: "üëî",
                rating: 4.5,
                reviews: 128,
                badge: "sale",
                isNew: false,
                colors: ["white", "blue", "black"],
                sizes: ["S", "M", "L", "XL"],
                description: "√Åo s∆° mi Oxford cao c·∫•p, ch·∫•t li·ªáu cotton 100%"
            },
            {
                id: 2,
                name: "Qu·∫ßn Jean Slim Fit Dark Blue",
                category: "quan-jean",
                brand: "uniqlo",
                price: 750000,
                originalPrice: null,
                image: "üëñ",
                rating: 4.8,
                reviews: 95,
                badge: null,
                isNew: true,
                colors: ["blue", "black"],
                sizes: ["29", "30", "31", "32", "33"],
                description: "Qu·∫ßn jean slim fit co gi√£n, ph√π h·ª£p m·ªçi d√°ng ng∆∞·ªùi"
            },
            {
                id: 3,
                name: "√Åo Thun Cotton Organic",
                category: "ao-thun",
                brand: "hm",
                price: 320000,
                originalPrice: 400000,
                image: "üëï",
                rating: 4.3,
                reviews: 203,
                badge: "sale",
                isNew: false,
                colors: ["white", "black", "gray", "navy"],
                sizes: ["XS", "S", "M", "L", "XL"],
                description: "√Åo thun cotton organic, th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng"
            },
            {
                id: 4,
                name: "V√°y ƒê·∫ßm Hoa Vintage",
                category: "vay-dam",
                brand: "mango",
                price: 890000,
                originalPrice: null,
                image: "üëó",
                rating: 4.7,
                reviews: 67,
                badge: null,
                isNew: true,
                colors: ["pink", "yellow", "green"],
                sizes: ["XS", "S", "M", "L"],
                description: "V√°y ƒë·∫ßm h·ªça ti·∫øt hoa vintage, phong c√°ch n·ªØ t√≠nh"
            },
            {
                id: 5,
                name: "√Åo S∆° Mi K·∫ª S·ªçc Classic",
                category: "ao-so-mi",
                brand: "zara",
                price: 520000,
                originalPrice: 650000,
                image: "üëî",
                rating: 4.4,
                reviews: 89,
                badge: "sale",
                isNew: false,
                colors: ["blue", "white"],
                sizes: ["S", "M", "L", "XL"],
                description: "√Åo s∆° mi k·∫ª s·ªçc c·ªï ƒëi·ªÉn, phong c√°ch thanh l·ªãch"
            },
            {
                id: 6,
                name: "Qu·∫ßn Jean R√°ch G·ªëi Trendy",
                category: "quan-jean",
                brand: "local",
                price: 680000,
                originalPrice: null,
                image: "üëñ",
                rating: 4.6,
                reviews: 156,
                badge: null,
                isNew: false,
                colors: ["blue", "black"],
                sizes: ["29", "30", "31", "32"],
                description: "Qu·∫ßn jean r√°ch g·ªëi phong c√°ch street style"
            },
            {
                id: 7,
                name: "√Åo Polo Premium Cotton",
                category: "ao-thun",
                brand: "uniqlo",
                price: 380000,
                originalPrice: 480000,
                image: "üëï",
                rating: 4.2,
                reviews: 134,
                badge: "sale",
                isNew: false,
                colors: ["white", "navy", "red", "green"],
                sizes: ["S", "M", "L", "XL", "XXL"],
                description: "√Åo polo cotton cao c·∫•p, ph√π h·ª£p ƒëi l√†m v√† d·∫°o ph·ªë"
            },
            {
                id: 8,
                name: "V√°y ƒê·∫ßm C√¥ng S·ªü Elegant",
                category: "vay-dam",
                brand: "mango",
                price: 1200000,
                originalPrice: null,
                image: "üëó",
                rating: 4.9,
                reviews: 45,
                badge: "limited",
                isNew: true,
                colors: ["black", "navy", "gray"],
                sizes: ["XS", "S", "M", "L"],
                description: "V√°y ƒë·∫ßm c√¥ng s·ªü sang tr·ªçng, thi·∫øt k·∫ø tinh t·∫ø"
            },
            {
                id: 9,
                name: "√Åo Hoodie Unisex",
                category: "ao-thun",
                brand: "hm",
                price: 650000,
                originalPrice: 800000,
                image: "üß•",
                rating: 4.5,
                reviews: 178,
                badge: "sale",
                isNew: false,
                colors: ["black", "gray", "white", "red"],
                sizes: ["S", "M", "L", "XL", "XXL"],
                description: "√Åo hoodie unisex, ch·∫•t li·ªáu n·ªâ m·ªÅm m·∫°i"
            },
            {
                id: 10,
                name: "Ch√¢n V√°y X·∫øp Ly Mini",
                category: "vay-dam",
                brand: "zara",
                price: 420000,
                originalPrice: null,
                image: "üëó",
                rating: 4.3,
                reviews: 92,
                badge: null,
                isNew: true,
                colors: ["black", "white", "pink"],
                sizes: ["XS", "S", "M", "L"],
                description: "Ch√¢n v√°y x·∫øp ly mini, phong c√°ch tr·∫ª trung"
            },
            {
                id: 11,
                name: "√Åo Blazer N·ªØ C√¥ng S·ªü",
                category: "ao-so-mi",
                brand: "mango",
                price: 1350000,
                originalPrice: 1600000,
                image: "üß•",
                rating: 4.8,
                reviews: 73,
                badge: "sale",
                isNew: false,
                colors: ["black", "navy", "beige"],
                sizes: ["XS", "S", "M", "L", "XL"],
                description: "√Åo blazer n·ªØ c√¥ng s·ªü, thi·∫øt k·∫ø hi·ªán ƒë·∫°i"
            },
            {
                id: 12,
                name: "Qu·∫ßn Short Jean Vintage",
                category: "quan-jean",
                brand: "local",
                price: 390000,
                originalPrice: 520000,
                image: "ü©≥",
                rating: 4.1,
                reviews: 115,
                badge: "sale",
                isNew: false,
                colors: ["blue", "black", "white"],
                sizes: ["29", "30", "31", "32", "33", "34"],
                description: "Qu·∫ßn short jean vintage, phong c√°ch retro"
            }
        ];

        // Utility functions
        const formatPrice = (price) => {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(price);
        };

        const getBrandName = (brand) => {
            const brandNames = {
                'zara': 'ZARA',
                'hm': 'H&M',
                'uniqlo': 'UNIQLO',
                'mango': 'MANGO',
                'local': 'LOCAL BRAND'
            };
            return brandNames[brand] || brand.toUpperCase();
        };

        const generateStars = (rating) => {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '‚òÖ';
            }
            if (hasHalfStar) {
                stars += '‚òÜ';
            }
            for (let i = fullStars + (hasHalfStar ? 1 : 0); i < 5; i++) {
                stars += '‚òÜ';
            }
            
            return stars;
        };

        const getColorCode = (color) => {
            const colorCodes = {
                'black': '#000000',
                'white': '#ffffff',
                'red': '#ef4444',
                'blue': '#3b82f6',
                'green': '#10b981',
                'yellow': '#f59e0b',
                'purple': '#8b5cf6',
                'pink': '#ec4899',
                'gray': '#6b7280',
                'brown': '#92400e',
                'navy': '#1e40af',
                'maroon': '#be185d',
                'beige': '#d2b48c'
            };
            return colorCodes[color] || '#cccccc';
        };

        // Header Component
        const Header = ({ cartCount, searchTerm, onSearchChange }) => {
            return (
                <header className="header">
                    <div className="top-bar">
                        Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn cho ƒë∆°n h√†ng tr√™n 500.000ƒë | Hotline: 1900-1234
                    </div>
                    <div className="nav-container">
                        <div className="logo">Fashion Elite</div>
                        <nav>
                            <ul className="nav-menu">
                                <li><a>Trang Ch·ªß</a></li>
                                <li><a>Nam</a></li>
                                <li><a>N·ªØ</a></li>
                                <li><a>Ph·ª• Ki·ªán</a></li>
                                <li><a>Sale</a></li>
                            </ul>
                        </nav>
                        <div className="nav-actions">
                            <div className="search-box">
                                <span className="search-icon">üîç</span>
                                <input 
                                    type="text" 
                                    className="search-input" 
                                    placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..."
                                    value={searchTerm}
                                    onChange={(e) => onSearchChange(e.target.value)}
                                />
                            </div>
                            <button className="cart-btn">
                                üõí Gi·ªè h√†ng ({cartCount})
                            </button>
                        </div>
                    </div>
                </header>
            );
        };

        // Filter Sidebar Component
        const FilterSidebar = ({ filters, onFilterChange, onClearFilters }) => {
            const handleCheckboxChange = (filterType, value, checked) => {
                onFilterChange(filterType, value, checked);
            };

            const handleSizeToggle = (size) => {
                const isSelected = filters.sizes.includes(size);
                onFilterChange('sizes', size, !isSelected);
            };

            const handleColorToggle = (color) => {
                const isSelected = filters.colors.includes(color);
                onFilterChange('colors', color, !isSelected);
            };

            return (
                <aside className="filter-sidebar">
                    <h3 className="filter-title">B·ªô L·ªçc</h3>

                    {/* Category Filter */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">Danh M·ª•c</h4>
                        <div className="filter-options">
                            {[
                                { value: 'ao-so-mi', label: '√Åo S∆° Mi', count: 4 },
                                { value: 'quan-jean', label: 'Qu·∫ßn Jean', count: 3 },
                                { value: 'ao-thun', label: '√Åo Thun', count: 3 },
                                { value: 'vay-dam', label: 'V√°y ƒê·∫ßm', count: 3 }
                            ].map(category => (
                                <div key={category.value} className="filter-option">
                                    <input 
                                        type="checkbox" 
                                        id={`cat-${category.value}`}
                                        className="filter-checkbox"
                                        checked={filters.categories.includes(category.value)}
                                        onChange={(e) => handleCheckboxChange('categories', category.value, e.target.checked)}
                                    />
                                    <label htmlFor={`cat-${category.value}`} className="filter-label">
                                        {category.label}
                                    </label>
                                    <span className="filter-count">({category.count})</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Brand Filter */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">Th∆∞∆°ng Hi·ªáu</h4>
                        <div className="filter-options">
                            {[
                                { value: 'zara', label: 'Zara', count: 3 },
                                { value: 'hm', label: 'H&M', count: 2 },
                                { value: 'uniqlo', label: 'Uniqlo', count: 2 },
                                { value: 'mango', label: 'Mango', count: 3 },
                                { value: 'local', label: 'Th∆∞∆°ng hi·ªáu n·ªôi ƒë·ªãa', count: 2 }
                            ].map(brand => (
                                <div key={brand.value} className="filter-option">
                                    <input 
                                        type="checkbox" 
                                        id={`brand-${brand.value}`}
                                        className="filter-checkbox"
                                        checked={filters.brands.includes(brand.value)}
                                        onChange={(e) => handleCheckboxChange('brands', brand.value, e.target.checked)}
                                    />
                                    <label htmlFor={`brand-${brand.value}`} className="filter-label">
                                        {brand.label}
                                    </label>
                                    <span className="filter-count">({brand.count})</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Price Range */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">Kho·∫£ng Gi√°</h4>
                        <div className="filter-options">
                            {[
                                { value: 'under-300', label: 'D∆∞·ªõi 300k', count: 1 },
                                { value: '300-500', label: '300k - 500k', count: 4 },
                                { value: '500-1000', label: '500k - 1tr', count: 5 },
                                { value: 'over-1000', label: 'Tr√™n 1tr', count: 2 }
                            ].map(priceRange => (
                                <div key={priceRange.value} className="filter-option">
                                    <input 
                                        type="checkbox" 
                                        id={`price-${priceRange.value}`}
                                        className="filter-checkbox"
                                        checked={filters.priceRanges.includes(priceRange.value)}
                                        onChange={(e) => handleCheckboxChange('priceRanges', priceRange.value, e.target.checked)}
                                    />
                                    <label htmlFor={`price-${priceRange.value}`} className="filter-label">
                                        {priceRange.label}
                                    </label>
                                    <span className="filter-count">({priceRange.count})</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Size Filter */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">K√≠ch Th∆∞·ªõc</h4>
                        <div className="size-grid">
                            {['XS', 'S', 'M', 'L', 'XL', 'XXL', '29', '30', '31', '32', '33', '34'].map(size => (
                                <div 
                                    key={size}
                                    className={`size-option ${filters.sizes.includes(size) ? 'selected' : ''}`}
                                    onClick={() => handleSizeToggle(size)}
                                >
                                    {size}
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Color Filter */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">M√†u S·∫Øc</h4>
                        <div className="color-grid">
                            {[
                                'black', 'white', 'red', 'blue', 'green', 'yellow',
                                'purple', 'pink', 'gray', 'brown', 'navy', 'maroon'
                            ].map(color => (
                                <div 
                                    key={color}
                                    className={`color-option ${filters.colors.includes(color) ? 'selected' : ''}`}
                                    style={{ background: getColorCode(color) }}
                                    onClick={() => handleColorToggle(color)}
                                    title={color}
                                />
                            ))}
                        </div>
                    </div>

                    {/* Rating Filter */}
                    <div className="filter-group">
                        <h4 className="filter-group-title">ƒê√°nh Gi√°</h4>
                        <div className="filter-options">
                            {[
                                { value: 5, label: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', count: 2 },
                                { value: 4, label: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ tr·ªü l√™n', count: 8 },
                                { value: 3, label: '‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ tr·ªü l√™n', count: 12 }
                            ].map(rating => (
                                <div key={rating.value} className="filter-option">
                                    <input 
                                        type="checkbox" 
                                        id={`rating-${rating.value}`}
                                        className="filter-checkbox"
                                        checked={filters.ratings.includes(rating.value)}
                                        onChange={(e) => handleCheckboxChange('ratings', rating.value, e.target.checked)}
                                    />
                                    <label htmlFor={`rating-${rating.value}`} className="filter-label">
                                        {rating.label}
                                    </label>
                                    <span className="filter-count">({rating.count})</span>
                                </div>
                            ))}
                        </div>
                    </div>

                    <button className="clear-filters" onClick={onClearFilters}>
                        X√≥a T·∫•t C·∫£ B·ªô L·ªçc
                    </button>
                </aside>
            );
        };

        // Product Card Component
        const ProductCard = ({ product, onAddToCart, onAddToWishlist, addedToCart, wishlist }) => {
            const discountPercent = product.originalPrice ? 
                Math.round((product.originalPrice - product.price) / product.originalPrice * 100) : 0;

            const isInWishlist = wishlist.includes(product.id);
            const isAddedToCart = addedToCart.includes(product.id);

            return (
                <div className="product-card">
                    <div className="product-image">
                        <div className="product-badges">
                            {product.badge === 'sale' && <div className="product-badge badge-sale">Sale</div>}
                            {product.badge === 'limited' && <div className="product-badge badge-limited">Limited</div>}
                            {product.isNew && <div className="product-badge badge-new">M·ªõi</div>}
                        </div>
                        <div className="product-actions">
                            <button 
                                className="action-btn" 
                                onClick={(e) => {
                                    e.stopPropagation();
                                    onAddToWishlist(product.id);
                                }}
                                title="Y√™u th√≠ch"
                                style={{ color: isInWishlist ? '#ef4444' : '' }}
                            >
                                {isInWishlist ? '‚ô•' : '‚ô°'}
                            </button>
                            <button className="action-btn" title="Xem nhanh">üëÅ</button>
                        </div>
                        {product.image}
                    </div>
                    <div className="product-info">
                        <div className="product-brand">{getBrandName(product.brand)}</div>
                        <h3 className="product-name">{product.name}</h3>
                        <p className="product-description">{product.description}</p>
                        <div className="product-price">
                            <span className="current-price">{formatPrice(product.price)}</span>
                            {product.originalPrice && (
                                <span className="original-price">{formatPrice(product.originalPrice)}</span>
                            )}
                            {discountPercent > 0 && (
                                <span className="discount-percent">-{discountPercent}%</span>
                            )}
                        </div>
                        <div className="product-rating">
                            <span className="stars">{generateStars(product.rating)}</span>
                            <span className="rating-text">({product.reviews})</span>
                        </div>
                        <div className="product-variants">
                            {product.colors.slice(0, 4).map(color => (
                                <div 
                                    key={color}
                                    className="variant-color" 
                                    style={{ background: getColorCode(color) }}
                                    title={color}
                                />
                            ))}
                        </div>
                        <div className="product-sizes">
                            {product.sizes.slice(0, 4).map(size => (
                                <span key={size} className="size-tag">{size}</span>
                            ))}
                        </div>
                        <button 
                            className={`add-to-cart ${isAddedToCart ? 'added' : ''}`}
                            onClick={(e) => {
                                e.stopPropagation();
                                onAddToCart(product.id);
                            }}
                        >
                            {isAddedToCart ? 'ƒê√£ th√™m!' : 'Th√™m v√†o gi·ªè h√†ng'}
                        </button>
                    </div>
                </div>
            );
        };

        // Pagination Component
        const Pagination = ({ currentPage, totalPages, onPageChange }) => {
            if (totalPages <= 1) return null;

            const getPageNumbers = () => {
                const pages = [];
                const startPage = Math.max(1, currentPage - 2);
                const endPage = Math.min(totalPages, currentPage + 2);

                if (startPage > 1) {
                    pages.push(1);
                    if (startPage > 2) pages.push('...');
                }

                for (let i = startPage; i <= endPage; i++) {
                    pages.push(i);
                }

                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) pages.push('...');
                    pages.push(totalPages);
                }

                return pages;
            };

            return (
                <div className="pagination">
                    <button 
                        onClick={() => onPageChange(currentPage - 1)}
                        disabled={currentPage === 1}
                    >
                        ‚Äπ Tr∆∞·ªõc
                    </button>
                    
                    {getPageNumbers().map((page, index) => (
                        page === '...' ? (
                            <span key={index}>...</span>
                        ) : (
                            <button 
                                key={page}
                                className={currentPage === page ? 'active' : ''}
                                onClick={() => onPageChange(page)}
                            >
                                {page}
                            </button>
                        )
                    ))}
                    
                    <button 
                        onClick={() => onPageChange(currentPage + 1)}
                        disabled={currentPage === totalPages}
                    >
                        Sau ‚Ä∫
                    </button>
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [products] = useState(initialProducts);
            const [searchTerm, setSearchTerm] = useState('');
            const [sortBy, setSortBy] = useState('newest');
            const [currentPage, setCurrentPage] = useState(1);
            const [cartCount, setCartCount] = useState(0);
            const [addedToCart, setAddedToCart] = useState([]);
            const [wishlist, setWishlist] = useState([]);
            const [filters, setFilters] = useState({
                categories: [],
                brands: [],
                priceRanges: [],
                sizes: [],
                colors: [],
                ratings: []
            });

            const productsPerPage = 9;

            // Filter and search products
            const filteredProducts = useMemo(() => {
                let filtered = products.filter(product => {
                    // Search filter
                    if (searchTerm && !product.name.toLowerCase().includes(searchTerm.toLowerCase()) &&
                        !product.description.toLowerCase().includes(searchTerm.toLowerCase())) {
                        return false;
                    }

                    // Category filter
                    if (filters.categories.length > 0 && !filters.categories.includes(product.category)) {
                        return false;
                    }

                    // Brand filter
                    if (filters.brands.length > 0 && !filters.brands.includes(product.brand)) {
                        return false;
                    }

                    // Price range filter
                    if (filters.priceRanges.length > 0) {
                        let matchesPrice = false;
                        filters.priceRanges.forEach(range => {
                            switch (range) {
                                case 'under-300':
                                    if (product.price < 300000) matchesPrice = true;
                                    break;
                                case '300-500':
                                    if (product.price >= 300000 && product.price <= 500000) matchesPrice = true;
                                    break;
                                case '500-1000':
                                    if (product.price >= 500000 && product.price <= 1000000) matchesPrice = true;
                                    break;
                                case 'over-1000':
                                    if (product.price > 1000000) matchesPrice = true;
                                    break;
                            }
                        });
                        if (!matchesPrice) return false;
                    }

                    // Size filter
                    if (filters.sizes.length > 0) {
                        const hasMatchingSize = filters.sizes.some(size => product.sizes.includes(size));
                        if (!hasMatchingSize) return false;
                    }

                    // Color filter
                    if (filters.colors.length > 0) {
                        const hasMatchingColor = filters.colors.some(color => product.colors.includes(color));
                        if (!hasMatchingColor) return false;
                    }

                    // Rating filter
                    if (filters.ratings.length > 0) {
                        const matchesRating = filters.ratings.some(rating => {
                            if (rating === 5) return product.rating === 5;
                            if (rating === 4) return product.rating >= 4;
                            if (rating === 3) return product.rating >= 3;
                            return false;
                        });
                        if (!matchesRating) return false;
                    }

                    return true;
                });

                // Sort products
                filtered.sort((a, b) => {
                    switch (sortBy) {
                        case 'price-low':
                            return a.price - b.price;
                        case 'price-high':
                            return b.price - a.price;
                        case 'popular':
                            return b.reviews - a.reviews;
                        case 'rating':
                            return b.rating - a.rating;
                        case 'discount':
                            const discountA = a.originalPrice ? (a.originalPrice - a.price) / a.originalPrice : 0;
                            const discountB = b.originalPrice ? (b.originalPrice - b.price) / b.originalPrice : 0;
                            return discountB - discountA;
                        case 'newest':
                        default:
                            return b.isNew - a.isNew;
                    }
                });

                return filtered;
            }, [products, searchTerm, filters, sortBy]);

            // Pagination
            const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
            const currentProducts = filteredProducts.slice(
                (currentPage - 1) * productsPerPage,
                currentPage * productsPerPage
            );

            // Reset page when filters change
            useEffect(() => {
                setCurrentPage(1);
            }, [searchTerm, filters, sortBy]);

            // Event handlers
            const handleFilterChange = (filterType, value, checked) => {
                setFilters(prev => ({
                    ...prev,
                    [filterType]: checked 
                        ? [...prev[filterType], value]
                        : prev[filterType].filter(item => item !== value)
                }));
            };

            const handleClearFilters = () => {
                setFilters({
                    categories: [],
                    brands: [],
                    priceRanges: [],
                    sizes: [],
                    colors: [],
                    ratings: []
                });
                setSearchTerm('');
            };

            const handleAddToCart = (productId) => {
                setCartCount(prev => prev + 1);
                setAddedToCart(prev => [...prev, productId]);
                
                // Remove from added state after 2 seconds
                setTimeout(() => {
                    setAddedToCart(prev => prev.filter(id => id !== productId));
                }, 2000);
            };

            const handleAddToWishlist = (productId) => {
                setWishlist(prev => 
                    prev.includes(productId) 
                        ? prev.filter(id => id !== productId)
                        : [...prev, productId]
                );
            };

            const startIndex = (currentPage - 1) * productsPerPage + 1;
            const endIndex = Math.min(currentPage * productsPerPage, filteredProducts.length);

            return (
                <div>
                    <Header 
                        cartCount={cartCount}
                        searchTerm={searchTerm}
                        onSearchChange={setSearchTerm}
                    />
                    
                    <main className="container">
                        <div className="page-header">
                            <h1 className="page-title">B·ªô S∆∞u T·∫≠p Th·ªùi Trang</h1>
                            <p className="page-subtitle">Kh√°m ph√° nh·ªØng xu h∆∞·ªõng th·ªùi trang m·ªõi nh·∫•t t·ª´ c√°c th∆∞∆°ng hi·ªáu h√†ng ƒë·∫ßu</p>
                        </div>

                        <div className="results-info">
                            <div className="results-count">
                                Hi·ªÉn th·ªã {startIndex}-{endIndex} c·ªßa {filteredProducts.length} s·∫£n ph·∫©m
                            </div>
                        </div>

                        <div className="content-wrapper">
                            <FilterSidebar 
                                filters={filters}
                                onFilterChange={handleFilterChange}
                                onClearFilters={handleClearFilters}
                            />

                            <section className="products-section">
                                <div className="sort-bar">
                                    <div className="view-options">
                                        <button className="view-btn active">‚äû</button>
                                        <button className="view-btn">‚ò∞</button>
                                    </div>
                                    <select 
                                        className="sort-select" 
                                        value={sortBy}
                                        onChange={(e) => setSortBy(e.target.value)}
                                    >
                                        <option value="newest">M·ªõi nh·∫•t</option>
                                        <option value="popular">Ph·ªï bi·∫øn nh·∫•t</option>
                                        <option value="price-low">Gi√°: Th·∫•p ƒë·∫øn cao</option>
                                        <option value="price-high">Gi√°: Cao ƒë·∫øn th·∫•p</option>
                                        <option value="rating">ƒê√°nh gi√° cao nh·∫•t</option>
                                        <option value="discount">Gi·∫£m gi√° nhi·ªÅu nh·∫•t</option>
                                    </select>
                                </div>

                                <div className="products-grid">
                                    {currentProducts.map(product => (
                                        <ProductCard 
                                            key={product.id}
                                            product={product}
                                            onAddToCart={handleAddToCart}
                                            onAddToWishlist={handleAddToWishlist}
                                            addedToCart={addedToCart}
                                            wishlist={wishlist}
                                        />
                                    ))}
                                </div>

                                {filteredProducts.length === 0 && (
                                    <div className="loading">
                                        Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc c·ªßa b·∫°n
                                    </div>
                                )}

                                <Pagination 
                                    currentPage={currentPage}
                                    totalPages={totalPages}
                                    onPageChange={setCurrentPage}
                                />
                            </section>
                        </div>
                    </main>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'972858a995b184d9',t:'MTc1NTc2MDYwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
